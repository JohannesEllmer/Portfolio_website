import{j as d}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.B5xx_DHV.js";import{c as u}from"./utils.CBfrqCZ4.js";const v=[{id:"about",label:"Ãœber mich"},{id:"career",label:"Werdegang"},{id:"education",label:"Ausbildung"},{id:"certificates",label:"Zertifikate"},{id:"projects",label:"Projekte"},{id:"contact",label:"Kontakt"}];function y({sections:a=v,offset:p=72,minVisibleRatio:g=.5}){const[f,s]=o.useState(null),b=o.useRef({}),h=o.useRef(!1),n=o.useMemo(()=>typeof window>"u"?[]:a.map(e=>document.getElementById(e.id)).filter(e=>!!e),[a]);o.useEffect(()=>{n.forEach(e=>{e.style.scrollMarginTop||(e.style.scrollMarginTop=`${Math.max(0,p+8)}px`)})},[n,p]),o.useEffect(()=>{if(!n.length||typeof window>"u")return;b.current={};const e=new IntersectionObserver(t=>{t.forEach(i=>{b.current[i.target.id]=i.intersectionRatio});const r=Object.entries(b.current).sort((i,l)=>l[1]-i[1])[0];r&&r[1]>=g&&f!==r[0]&&s(r[0])},{threshold:[0,.25,.5,.75,1]});return n.forEach(t=>e.observe(t)),()=>e.disconnect()},[n,g]),o.useEffect(()=>{if(!n.length||typeof window>"u")return;const e=()=>{h.current||(h.current=!0,requestAnimationFrame(()=>{h.current=!1;const t=window.innerHeight/2;let r=null,i=Number.POSITIVE_INFINITY;for(const l of n){const c=l.getBoundingClientRect(),w=c.top<=t&&c.bottom>=t?0:Math.min(Math.abs(c.top-t),Math.abs(c.bottom-t));w<i&&(i=w,r=l.id)}r&&r!==f&&s(r)}))};return e(),window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[n]),o.useEffect(()=>{const e=()=>{const t=window.location.hash.replace("#","");t&&s(t)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);const m=(e,t)=>{e.preventDefault();const r=document.getElementById(t);r&&(window.history.pushState(null,"",`#${t}`),r.scrollIntoView({behavior:"smooth",block:"start"}),s(t))};return a.length?d.jsx("nav",{className:u("fixed right-4 top-1/2 -translate-y-1/2 z-40","hidden lg:flex flex-col gap-2"),"aria-label":"Abschnitt-Navigation",children:a.map(e=>{const t=f===e.id;return d.jsxs("a",{href:`#${e.id}`,onClick:r=>m(r,e.id),"aria-label":e.label,"aria-current":t?"true":"false",title:e.label,className:u("group relative flex h-11 w-11 items-center justify-center","rounded-full transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"),children:[d.jsx("span",{className:u("block h-3 w-3 rounded-full border transition-shadow","bg-black/20 border-black/30","dark:bg-white/20 dark:border-white/30",t?"bg-primary border-primary shadow-[0_0_0_6px_var(--color-primary)/15]":"hover:bg-black/30 hover:border-black/50 dark:hover:bg-white/30 dark:hover:border-white/50")}),d.jsx("span",{className:u("pointer-events-none absolute right-12 top-1/2 -translate-y-1/2","rounded-md px-2 py-1 text-[11px] leading-none","border bg-background/95 backdrop-blur text-foreground/90 shadow","opacity-0 translate-x-1 group-hover:opacity-100 group-hover:translate-x-0 transition"),children:e.label})]},e.id)})}):null}export{y as default};
